{% extends "admin/core/base.html" %}
{% load static from staticfiles %}
{% load foundation %}
{% load i18n %}

{% block title-section %}{% trans "Submission Destination" %}{% endblock title-section %}
{% block css %}
    <link href="{% static 'admin/css/timeline.css' %}" rel="stylesheet"/>
{% endblock css %}

{% block body %}
    <article>
        <div class="box">
            <form method="post"{% if journal_settings.general.abstract_required %} novalidate{% endif %}>
                {% csrf_token %}
                {% if article.is_preprint %}{% trans "This article is a preprint" %}{% endif %}
                {% include "submission/timeline.html" with data=article %}

                <div class="row expanded">
                    <div class="title-area">
                        <h2>{% trans "Choose Special Issue" %}</h2>
                    </div>
                    <div class="content">
                        {% include "elements/forms/errors.html" with form=form %}
                        {{ form }}
                    </div>

                    <div class="large-12 columns">
                        <button class="success button pull-right" type="submit" name="start_submission"><i
                                class="fa fa-check">&nbsp;</i>{% trans "Save and Continue" %}
                        </button>
                    </div>
                </div>
            </form>
            <div class="row expanded">
                <p>If your submission is not related to any special issue, click here to continue </p>
                <a href="{% url 'submit_info_original' article.pk %}"
                   class="success button pull-right"><i
                        class="fa fa-check">&nbsp;</i>{% trans "Proceed as Normal Issue" %}</a>
            </div>
        </div>
    </article>
{% endblock body %}

{% block js %}
    <script>
        $(document).ready(function () {
            var inputs = $('input:checkbox')
            function check() {
                if ($(this).is(':checked')) {
                    inputs.not(this).prop('disabled', true);
                } else {
                    inputs.prop('disabled', false);
                }
                return inputs
            }
            inputs.each(check);

            inputs.click(check);

        });
    </script>
{% endblock js %}
